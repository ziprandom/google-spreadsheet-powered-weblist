/******/!function(i){function e(s){if(t[s])return t[s].exports;var a=t[s]={exports:{},id:s,loaded:!1};return i[s].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}// webpackBootstrap
/******/
var t={};return e.m=i,e.c=t,e.p="",e(0)}([function(i,e,t){var s,a=t(1),n=t(2),o=t(3),r=t(4),l=t(6),c=t(7);!function(i){"use strict";angular.module("ghlist",["ngAnimate","ngCookies","ngSanitize","ui.router","ui.bootstrap"]).constant("malarkey",malarkey).constant("moment",moment).config(a.config).config(n.routerConfig).run(o.runBlock).service("blockspringApi",l.BlockspringApi).service("postRepo",c.PostRepo).controller("MainController",r.MainController)}(s||(s={}))},function(i,e){function t(i){i.debugEnabled(!0)}t.$inject=["$logProvider"],e.config=t},function(i,e){function t(i,e){i.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),e.otherwise("/")}t.$inject=["$stateProvider","$urlRouterProvider"],e.routerConfig=t},function(i,e){function t(i){i.debug("runBlock end")}t.$inject=["$log"],e.runBlock=t},function(i,e,t){var s=t(5),a=function(){function i(i,e){var t=this;this.postRepo=e,this.activeCategory="",this.searchActive=!1,this.searchTerm="",this.config=s.Config,e.loadUrl(s.Config.googleSpreadsheetUrl).then(function(i){t.posts=i[0],t.tags=i[1]})}return i.$inject=["$timeout","postRepo"],i.prototype.getActiveSelectionPosts=function(){return""===this.activeCategory||this.searchActive?this.posts:this.tags[this.activeCategory]},i.prototype.toggleActiveCategory=function(i){this.activeCategory===i?this.activeCategory="":this.activeCategory=i},i}();e.MainController=a},function(i,e){var t=function(){function i(){}return i.googleSpreadsheetUrl="https://docs.google.com/spreadsheets/d/1bL3HFRsE8h-neTtniXHIWiCwy6Ty88gCbwsrRt83ptc/edit?pli=1#gid=0&vpid=A2",i.pageTitle="leipzig",i.pageSubTitle="list of initiatives working with refugees",i.impressumTitle="Student_innenRat Universität Leipzig",i.impressumStreet="Universitätsstraße 1",i.impressumPlace="04109 Leipzig",i.impressumMail="refugees@stura.uni-leipzig.de",i}();e.Config=t},function(i,e){var t=function(){function i(i,e,t){this.$log=i,this.$q=e,this.$http=t}return i.$inject=["$log","$q","$http"],i.prototype.getSpreadsheet=function(i){var e=this,t=this.$q.defer();return blockspring.runParsed("query-google-spreadsheet",{query:"SELECT A, B, C, D, E, F, G, H, I",url:i},function(i){t.resolve(i.params.data)},function(s){t.reject(),e.$log.error("XHR Failed for "+i+"\n",s.data)}),t.promise},i}();e.BlockspringApi=t},function(i,e){var t=function(){function i(i){this.blockspringApi=i,this.tags={}}return i.$inject=["blockspringApi"],i.prototype.loadUrl=function(i){var e=this;return this.blockspringApi.getSpreadsheet(i).then(function(i){return[i.map(function(i){return i.tags=(i.category||" ").split(/\s*,\s*/),$.each(i.tags,function(t,s){e.addPostForTag(s,i)}),i}),e.tags]})},i.prototype.addPostForTag=function(i,e){void 0===i&&(i=""),""!==i&&(this.tags.hasOwnProperty(i)?this.tags[i].push(e):this.tags[i]=[e])},i}();e.PostRepo=t}]),angular.module("ghlist").run(["$templateCache",function(i){i.put("app/main/main.html",'<div class="container"><div class="page-title row"><div class="col-sm-12"><h2><b ng-bind="main.config.pageTitle"></b>: {{main.config.pageSubTitle}}</h2></div></div><div id="impressum" class="well well-sm"><b ng-bind="main.config.impressumTitle"></b> // {{main.config.impressumStreet}} // {{main.config.imressumPlace}} <a href="{{\'mailto:\' + main.config.impressumMail}}">{{main.config.impressumMail}}</a></div><div ng-show="!main.posts.length" class="row"><div class="col-sm-12"><div class="progress"><div class="progress-bar progress-bar-danger progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><span class="sr-only">Loading</span></div></div></div></div><div id="posts" ng-if="main.posts.length" class="row"><div class="col-sm-2 col-sm-push-10"><ul ng-if="main.posts.length > 0" class="fade nav nav-pills"><li role="presentation" ng-hide="main.searchActive" ng-class="{active: main.activeCategory == \'\'}"><a ng-click="main.activeCategory = \'\'" href="#"><span class="badge">{{main.posts.length}}</span> Alle</a></li><li role="presentation" ng-hide="main.searchActive" ng-repeat="(key, value) in main.tags" ng-class="{active: key == main.activeCategory}"><a ng-click="main.activeCategory = key;" href="#"><span class="badge">{{value.length}}</span> <b>{{key == " " ? "sonstige" : key}}</b></a></li><li role="presentation"><a href="#" ng-hide="main.searchActive" ng-click="main.searchActive = true"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a></li><li ng-show="main.searchActive" role="presentation"><div class="col-md-12 input-group"><input type="text" ng-model="main.searchTerm" class="form-control" placeholder="suchen" aria-describedby="basic-addon2"> <a class="input-group-addon" id="basic-addon2"><span ng-click="main.searchTerm = \'\'; main.searchActive = false" class="glyphicon glyphicon-remove" aria-hidden="true"></span> {{count}}</a></div></li></ul></div><div class="col-sm-10 col-sm-pull-2"><div ng-repeat="post in main.getActiveSelectionPosts() | filter: main.searchTerm | orderBy:\'name\'" class="fade panel panel-primary"><div class="panel-heading"><h2 class="panel-title" ng-if="post.name_affix"><b>{{post.name_affix}} @ {{ post.name }}</b></h2><h2 class="panel-title" ng-if="!post.name_affix"><b>{{post.name}}</b></h2></div><div class="panel-body">{{ post.description }}</div><ul class="list-group"><li class="list-group-item" ng-if="post.website || post.facebook"><div class="row"><div class="col-sm-6" ng-if="post.website"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span> <a class="dont-break-out" ng-href="{{post.website}}" target="_blank">{{post.website}}</a></div><div class="col-sm-6" ng-if="post.facebook"><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> <a class="dont-break-out" ng-href="{{post.facebook}}" target="_blank">facebook</a></div></div></li><li class="list-group-item" ng-if="post.contact || post.place"><div class="row"><div class="col-sm-6" ng-if="post.contact"><address><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> <a class="dont-break-out" ng-href="{{post.contact}}">Kontakt: {{post.contact}}</a></address></div><div class="col-sm-6" ng-if="post.place"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> <span class="dont-break-out">Ort: {{post.place}}</span></div></div></li></ul></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-839ff1cdb9.js.map
