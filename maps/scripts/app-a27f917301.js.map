{"version":3,"sources":["scripts/app-a27f917301.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","ghlist","index_config_1","index_route_1","index_run_1","main_controller_1","blockspringApi_service_1","postRepo_service_1","angular","constant","malarkey","moment","config","routerConfig","run","runBlock","service","BlockspringApi","PostRepo","controller","MainController","$logProvider","debugEnabled","$inject","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","$log","debug","$timeout","postRepo","this","activeCategory","searchActive","searchTerm","that","loadUrl","then","data","posts","tags","prototype","getActiveSelectionPosts","toggleActiveCategory","tag","$q","$http","getSpreadsheet","spreadsheetUrl","_this","deferred","defer","blockspring","runParsed","query","response","resolve","params","error","reject","promise","blockspringApi","map","category","split","$","each","index","addPostForTag","post","hasOwnProperty","push","$templateCache","put"],"mappings":"SAAS,SAAUA,GAKT,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUE,OAGnC,IAAIC,GAASF,EAAiBD,IAC7BE,WACAE,GAAIJ,EACJK,QAAQ,EAUT,OANAP,GAAQE,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOE,QAAS,EAGTF,EAAOD;;AAvBf,GAAID,KAqCJ,OATAF,GAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAIP,EAGxBF,EAAoBU,EAAI,GAGjBV,EAAoB,KAK/B,SAASI,EAAQD,EAASH,GAG/B,GAMIW,GANAC,EAAiBZ,EAAoB,GACrCa,EAAgBb,EAAoB,GACpCc,EAAcd,EAAoB,GAClCe,EAAoBf,EAAoB,GACxCgB,EAA2BhB,EAAoB,GAC/CiB,EAAqBjB,EAAoB,IAE7C,SAAWW,GACP,YACAO,SAAQd,OAAO,UAAW,YAAa,YAAa,aAAc,YAAa,iBAC1Ee,SAAS,WAAYC,UACrBD,SAAS,SAAUE,QACnBC,OAAOV,EAAeU,QACtBA,OAAOT,EAAcU,cACrBC,IAAIV,EAAYW,UAChBC,QAAQ,iBAAkBV,EAAyBW,gBACnDD,QAAQ,WAAYT,EAAmBW,UACvCC,WAAW,iBAAkBd,EAAkBe,iBACrDnB,IAAWA,QAKT,SAASP,EAAQD,GAGtB,QAASmB,GAAOS,GAEZA,EAAaC,cAAa,GAE9BV,EAAOW,SAAW,gBAClB9B,EAAQmB,OAASA,GAKZ,SAASlB,EAAQD,GAGtB,QAASoB,GAAaW,EAAgBC,GAClCD,EACKE,MAAM,QACPC,IAAK,IACLC,YAAa,qBACbT,WAAY,iBACZU,aAAc,SAElBJ,EAAmBK,UAAU,KAEjCjB,EAAaU,SAAW,iBAAkB,sBAC1C9B,EAAQoB,aAAeA,GAKlB,SAASnB,EAAQD,GAGtB,QAASsB,GAASgB,GACdA,EAAKC,MAAM,gBAEfjB,EAASQ,SAAW,QACpB9B,EAAQsB,SAAWA,GAKd,SAASrB,EAAQD,GAEtB,GAAI2B,GAAiB,WAEjB,QAASA,GAAea,EAAUC,GAC9BC,KAAKD,SAAWA,EAChBC,KAAKC,eAAiB,GACtBD,KAAKE,cAAe,EACpBF,KAAKG,WAAa,EAClB,IAAIC,GAAOJ,IACXD,GAASM,QAAQ,gHAAgHC,KAAK,SAAUC,GAC5IH,EAAKI,MAAQD,EAAK,GAClBH,EAAKK,KAAOF,EAAK,KAoBzB,MAjBAtB,GAAeG,SAAW,WAAY,YACtCH,EAAeyB,UAAUC,wBAA0B,WAC/C,MAA4B,KAAxBX,KAAKC,gBAAyBD,KAAKE,aAC5BF,KAAKQ,MAGLR,KAAKS,KAAKT,KAAKC,iBAG9BhB,EAAeyB,UAAUE,qBAAuB,SAAUC,GAClDb,KAAKC,iBAAmBY,EACxBb,KAAKC,eAAiB,GAGtBD,KAAKC,eAAiBY,GAGvB5B,IAEX3B,GAAQ2B,eAAiBA,GAKpB,SAAS1B,EAAQD,GAEtB,GAAIwB,GAAiB,WAGjB,QAASA,GAAec,EAAMkB,EAAIC,GAC9Bf,KAAKJ,KAAOA,EACZI,KAAKc,GAAKA,EACVd,KAAKe,MAAQA,EAiBjB,MAfAjC,GAAeM,SAAW,OAAQ,KAAM,SACxCN,EAAe4B,UAAUM,eAAiB,SAAUC,GAChD,GAAIC,GAAQlB,KACRmB,EAAWnB,KAAKc,GAAGM,OAUvB,OATAC,aAAYC,UAAU,4BAClBC,MAAO,mCACP/B,IAAKyB,GACN,SAAUO,GACTL,EAASM,QAAQD,EAASE,OAAOnB,OAClC,SAAUoB,GACTR,EAASS,SACTV,EAAMtB,KAAK+B,MAAM,oCAAqCA,EAAMpB,QAEzDY,EAASU,SAEb/C,IAEXxB,GAAQwB,eAAiBA,GAKpB,SAASvB,EAAQD,GAEtB,GAAIyB,GAAW,WAEX,QAASA,GAAS+C,GACd9B,KAAK8B,eAAiBA,EACtB9B,KAAKS,QA0BT,MAxBA1B,GAASK,SAAW,kBACpBL,EAAS2B,UAAUL,QAAU,SAAUb,GACnC,GAAI0B,GAAQlB,IACZ,OAAOA,MAAK8B,eAAed,eAAexB,GAAKc,KAAK,SAAUC,GAC1D,OAAQA,EAAKwB,IAAI,SAAUxB,GAKnB,MAJAA,GAAKE,MAAQF,EAAKyB,UAAY,KAAKC,MAAM,KACzCC,EAAEC,KAAK5B,EAAKE,KAAM,SAAU2B,EAAOvB,GAC/BK,EAAMmB,cAAcxB,EAAKN,KAEtBA,IACPW,EAAMT,SAGtB1B,EAAS2B,UAAU2B,cAAgB,SAAUxB,EAAKyB,GAClC,SAARzB,IAAkBA,EAAM,IAChB,KAARA,IACIb,KAAKS,KAAK8B,eAAe1B,GACzBb,KAAKS,KAAKI,GAAK2B,KAAKF,GAGpBtC,KAAKS,KAAKI,IAAQyB,KAIvBvD,IAEXzB,GAAQyB,SAAWA,KAKpBV,QAAQd,OAAO,UAAUoB,KAAK,iBAAkB,SAAS8D,GAAiBA,EAAeC,IAAI,qBAAqB","file":"scripts/app-a27f917301.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/// <reference path=\"../../.tmp/typings/tsd.d.ts\" />\r\n\tvar index_config_1 = __webpack_require__(1);\r\n\tvar index_route_1 = __webpack_require__(2);\r\n\tvar index_run_1 = __webpack_require__(3);\r\n\tvar main_controller_1 = __webpack_require__(4);\r\n\tvar blockspringApi_service_1 = __webpack_require__(5);\r\n\tvar postRepo_service_1 = __webpack_require__(6);\r\n\tvar ghlist;\r\n\t(function (ghlist) {\r\n\t    'use strict';\r\n\t    angular.module('ghlist', ['ngAnimate', 'ngCookies', 'ngSanitize', 'ui.router', 'ui.bootstrap'])\r\n\t        .constant('malarkey', malarkey)\r\n\t        .constant('moment', moment)\r\n\t        .config(index_config_1.config)\r\n\t        .config(index_route_1.routerConfig)\r\n\t        .run(index_run_1.runBlock)\r\n\t        .service('blockspringApi', blockspringApi_service_1.BlockspringApi)\r\n\t        .service('postRepo', postRepo_service_1.PostRepo)\r\n\t        .controller('MainController', main_controller_1.MainController);\r\n\t})(ghlist || (ghlist = {}));\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/** @ngInject */\r\n\tfunction config($logProvider) {\r\n\t    // enable log\r\n\t    $logProvider.debugEnabled(true);\r\n\t}\r\n\tconfig.$inject = [\"$logProvider\"];\r\n\texports.config = config;\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t/** @ngInject */\r\n\tfunction routerConfig($stateProvider, $urlRouterProvider) {\r\n\t    $stateProvider\r\n\t        .state('home', {\r\n\t        url: '/',\r\n\t        templateUrl: 'app/main/main.html',\r\n\t        controller: 'MainController',\r\n\t        controllerAs: 'main'\r\n\t    });\r\n\t    $urlRouterProvider.otherwise('/');\r\n\t}\r\n\trouterConfig.$inject = [\"$stateProvider\", \"$urlRouterProvider\"];\r\n\texports.routerConfig = routerConfig;\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/** @ngInject */\r\n\tfunction runBlock($log) {\r\n\t    $log.debug('runBlock end');\r\n\t}\r\n\trunBlock.$inject = [\"$log\"];\r\n\texports.runBlock = runBlock;\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tvar MainController = (function () {\r\n\t    /* @ngInject */\r\n\t    function MainController($timeout, postRepo) {\r\n\t        this.postRepo = postRepo;\r\n\t        this.activeCategory = '';\r\n\t        this.searchActive = false;\r\n\t        this.searchTerm = '';\r\n\t        var that = this;\r\n\t        postRepo.loadUrl(\"https://docs.google.com/spreadsheets/d/1bL3HFRsE8h-neTtniXHIWiCwy6Ty88gCbwsrRt83ptc/edit?pli=1#gid=0&vpid=A2\").then(function (data) {\r\n\t            that.posts = data[0];\r\n\t            that.tags = data[1];\r\n\t        });\r\n\t    }\r\n\t    MainController.$inject = [\"$timeout\", \"postRepo\"];\r\n\t    MainController.prototype.getActiveSelectionPosts = function () {\r\n\t        if (this.activeCategory === '' || this.searchActive) {\r\n\t            return this.posts;\r\n\t        }\r\n\t        else {\r\n\t            return this.tags[this.activeCategory];\r\n\t        }\r\n\t    };\r\n\t    MainController.prototype.toggleActiveCategory = function (tag) {\r\n\t        if (this.activeCategory === tag) {\r\n\t            this.activeCategory = '';\r\n\t        }\r\n\t        else {\r\n\t            this.activeCategory = tag;\r\n\t        }\r\n\t    };\r\n\t    return MainController;\r\n\t})();\r\n\texports.MainController = MainController;\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tvar BlockspringApi = (function () {\r\n\t    //   private apiUrl: string = \"https://run.blockspring.com/api_v2/blocks/query-google-spreadsheet?&flatten=true&cache=true&expiry=3600\";\r\n\t    /** @ngInject */\r\n\t    function BlockspringApi($log, $q, $http) {\r\n\t        this.$log = $log;\r\n\t        this.$q = $q;\r\n\t        this.$http = $http;\r\n\t    }\r\n\t    BlockspringApi.$inject = [\"$log\", \"$q\", \"$http\"];\r\n\t    BlockspringApi.prototype.getSpreadsheet = function (spreadsheetUrl) {\r\n\t        var _this = this;\r\n\t        var deferred = this.$q.defer();\r\n\t        blockspring.runParsed('query-google-spreadsheet', {\r\n\t            query: 'SELECT A, B, C, D, E, F, G, H, I',\r\n\t            url: spreadsheetUrl\r\n\t        }, function (response) {\r\n\t            deferred.resolve(response.params.data);\r\n\t        }, function (error) {\r\n\t            deferred.reject();\r\n\t            _this.$log.error('XHR Failed for getContributors.\\n', error.data);\r\n\t        });\r\n\t        return deferred.promise;\r\n\t    };\r\n\t    return BlockspringApi;\r\n\t})();\r\n\texports.BlockspringApi = BlockspringApi;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tvar PostRepo = (function () {\r\n\t    /* @ngInject */\r\n\t    function PostRepo(blockspringApi) {\r\n\t        this.blockspringApi = blockspringApi;\r\n\t        this.tags = {};\r\n\t    }\r\n\t    PostRepo.$inject = [\"blockspringApi\"];\r\n\t    PostRepo.prototype.loadUrl = function (url) {\r\n\t        var _this = this;\r\n\t        return this.blockspringApi.getSpreadsheet(url).then(function (data) {\r\n\t            return [data.map(function (data) {\r\n\t                    data.tags = (data.category || ' ').split(',');\r\n\t                    $.each(data.tags, function (index, tag) {\r\n\t                        _this.addPostForTag(tag, data);\r\n\t                    });\r\n\t                    return data;\r\n\t                }), _this.tags];\r\n\t        });\r\n\t    };\r\n\t    PostRepo.prototype.addPostForTag = function (tag, post) {\r\n\t        if (tag === void 0) { tag = ''; }\r\n\t        if (tag !== '') {\r\n\t            if (this.tags.hasOwnProperty(tag)) {\r\n\t                this.tags[tag].push(post);\r\n\t            }\r\n\t            else {\r\n\t                this.tags[tag] = [post];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    return PostRepo;\r\n\t})();\r\n\texports.PostRepo = PostRepo;\r\n\n\n/***/ }\n/******/ ]);\nangular.module(\"ghlist\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><div class=\\\"page-title row\\\"><div class=\\\"hidden-xs page-icon col-sm-2 col-md-2\\\"><span class=\\\"glyphicon glyphicon-globe\\\" aria-hidden=\\\"true\\\"></span></div><div class=\\\"col-sm-10 col-md-10\\\"><h2><b>leipzig</b>: list of initiatives working with refugees</h2><ul ng-if=\\\"main.posts.length > 0\\\" class=\\\"fade nav nav-pills\\\"><li role=\\\"presentation\\\" ng-hide=\\\"main.searchActive\\\" ng-class=\\\"{active: main.activeCategory == \\'\\'}\\\"><a ng-click=\\\"main.activeCategory = \\'\\'\\\" href=\\\"#\\\">Alle <span class=\\\"badge\\\">{{main.posts.length}}</span></a></li><li role=\\\"presentation\\\" ng-hide=\\\"main.searchActive\\\" ng-repeat=\\\"(key, value) in main.tags\\\" ng-class=\\\"{active: key == main.activeCategory}\\\"><a ng-click=\\\"main.activeCategory = key;\\\" href=\\\"#\\\">{{key == \\\" \\\" ? \\\"sonstige\\\" : key}} <span class=\\\"badge\\\">{{value.length}}</span></a></li><li><a href=\\\"#\\\" ng-hide=\\\"main.searchActive\\\" ng-click=\\\"main.searchActive = true\\\"><span class=\\\"glyphicon glyphicon-search\\\" aria-hidden=\\\"true\\\"></span></a></li><li ng-show=\\\"main.searchActive\\\" role=\\\"presentation\\\"><div class=\\\"col-md-5 input-group\\\"><input type=\\\"text\\\" ng-model=\\\"main.searchTerm\\\" class=\\\"form-control\\\" placeholder=\\\"suchen\\\" aria-describedby=\\\"basic-addon2\\\"> <a class=\\\"input-group-addon\\\" id=\\\"basic-addon2\\\"><span ng-click=\\\"main.searchTerm = \\'\\'; main.searchActive = false\\\" class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span> {{count}}</a></div></li></ul></div></div><div ng-show=\\\"!main.posts.length\\\" class=\\\"row\\\"><div class=\\\"col-sm-6 col-md-12\\\"><div class=\\\"progress\\\"><div class=\\\"progress-bar progress-bar-danger progress-bar-striped active\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"100\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 100%\\\"><span class=\\\"sr-only\\\">Loading</span></div></div></div></div><div ng-if=\\\"main.posts.length\\\" class=\\\"row\\\"><div class=\\\"col-sm-6 col-md-12\\\"><div ng-repeat=\\\"post in main.getActiveSelectionPosts() | filter: main.searchTerm | orderBy:\\'name\\'\\\" class=\\\"fade panel panel-default\\\"><div class=\\\"panel-heading\\\"><h2 class=\\\"panel-title\\\"><b>{{ post.name }}</b></h2></div><div class=\\\"panel-body\\\">{{ post.description }}</div><div class=\\\"panel-footer\\\"><a ng-href=\\\"{{post.website}}\\\" target=\\\"_blank\\\" ng-if=\\\"post.website\\\">{{post.website}}</a></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}